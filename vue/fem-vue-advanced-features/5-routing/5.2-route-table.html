<body>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <div id="app"></div>
  <script>
    // '#/foo' -> Foo
    // '#/bar' -> Bar
    // '#/404' -> NotFound

    const Foo = { template: `<div>foo</div>` }
    const Bar = { template: `<div>bar</div>` }
    const NotFound = { template: `<div>not found!</div>` }

    const routeTable = {
      foo: Foo,
      bar: Bar
    }

    window.addEventListener('hashchange', () => {
      app.url = window.location.hash.slice(1)
    })

    const app = new Vue({
      el: '#app',
      data: {
        url: window.location.hash.slice(1)
      },
      render(h) {
        return h('div', { attrs: { id: 'app' } }, [
          h(routeTable[this.url] || NotFound),
          h('a', { attrs: { href: '#foo' } }, 'foo'),
          // render函数和template的区别，不会显示html中的空格、换行
          '|',
          h('a', { attrs: { href: '#bar' } }, 'bar')
        ])
      }
    })
  </script>
</body>
