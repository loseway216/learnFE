<body>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script>
    // goal:
    // - display foo when url is at #foo
    // - display bar when url is at #bar
    // - bonus: implement links that navigate between #foo and #bar

    // to access the current hash:
    window.location.hash
    // to listen for hash changes:
    window.addEventListener('hashchange', () => {
      // read hash and update app
    })
  </script>

  <div id="app">
    <!-- 用url来切换组件 -->
    <component :is="url"></component>
    <a href="#foo">foo</a>
    <a href="#bar">bar</a>
  </div>

  <script>
    window.addEventListener('hashchange', () => {
      app.url = window.location.hash.slice(1)
    })

    const app = new Vue({
      el: '#app',
      data: {
        // 处理用户一开始就访问层级url的情况
        url: window.location.hash.slice(1)
      },
      components: {
        foo: { render: h => h('div', 'foo') },
        bar: { render: h => h('div', 'bar') }
      }
    })
  </script>
</body>
